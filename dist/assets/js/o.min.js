function Mozoom(){this.setSizeClass="s",this.setContainer=$("#content"),this.animationSpeed=1200,$zoomedImgWidth=.35,$zoomedSetPadding=.3,$(".project-head").hide(),$("#faderOverlay").hide()}function defineZoomedSize(e){var o=$(window).width();e.css({height:o*$zoomedImgWidth*e.data("ratio")})}Mozoom.prototype.zoomIn=function(e,o,t){zoomedSet=e.clone(),zoomedSet.children(".set-head").remove(),zoomedSet.addClass("zoomedSet"),$("body").css("overflow","hidden"),zoomedSet.css({position:"absolute",left:0,top:$(window).scrollTop(),width:"100vw",height:"100vh",overflow:"scroll","z-index":20,opacity:0}).appendTo("body").find("img").each(function(){defineZoomedSize($(this))}),zoomedSet.find(".project-head").first().css({"padding-bottom":$(window).height()*$zoomedSetPadding,"margin-bottom":0}),zoomedSet.find("figure").last().css("padding-bottom",$(window).height()*$zoomedSetPadding),zoomedSet.find(".project-head").show(),zoomedTargetImage=zoomedSet.find("figure[data-slug="+o.data("slug")+"]"),pos=zoomedTargetImage.position().top-($(window).height()-zoomedTargetImage.find("img").outerHeight(!1))/2,zoomedSet.scrollTop(pos),t?(clonedImage=o.clone().css({"z-index":15,position:"absolute",left:o.offset().left,top:o.offset().top,width:o.width(),height:"auto"}).attr("id","zoomedImage").appendTo("body"),$("#faderOverlay").fadeIn(.5*this.animationSpeed,function(){zoomedSet.animate({opacity:1},this.animationSpeed)})):(zoomedSet.find(".project-head").css("opacity",0),zoomedSet.css("opacity",1),zoomedSet.scroll(function(){zoomedSet.find(".project-head").animate({opacity:1},this.animationSpeed)}))},Mozoom.prototype.zoomOut=function(e){$("#faderOverlay").hide(),e.fadeOut(.5*this.animationSpeed,function(){$(this).remove(),$("#zoomedImage").remove(),$("body").css("overflow","auto")})},Mozoom.prototype.rebuildZoomedImages=function(){zoomedSet.length&&zoomedSet.find("img").each(function(){defineZoomedSize($(this))})},Mozoom.prototype.zoomToggle=function(e,o,t){!$(".zoomedSet").length&&e&&o?this.zoomIn(e,o,t):this.zoomOut($(".zoomedSet"))},$(document).ready(function(){var t=new Mozoom,o=$(".set figure"),i=$("#featured");function d(i,d,s){var n;return function(){var e=this,o=arguments,t=s&&!n;clearTimeout(n),n=setTimeout(function(){n=null,s||i.apply(e,o)},d),t&&i.apply(e,o)}}d(function(){if($("#mobile-page-header").is(":visible"))o.unbind("click"),$("img").unbind("mouseenter"),$(".caret-left").click(function(){$(this).closest(".set").removeClass("visibleSet"),$(this).closest(".set").prev().addClass("visibleSet"),$(this).closest(".set").is(":first-child")&&$(".set").last().addClass("visibleSet")}),$(".caret-right").click(function(){$(this).closest(".set").removeClass("visibleSet"),$(this).closest(".set").next().addClass("visibleSet"),$(this).closest(".set").is(":last-child")&&$(".set").first().addClass("visibleSet")});else{o.click(function(e){if(e.stopPropagation(),$(this).is("figure")){var o="#"+$(this).data("set");t.zoomToggle($(o),$(this),!0)}}),$(window).click(function(){t.zoomToggle()});var e=d(function(){t.rebuildZoomedImages()},250);$(window).resize(e),$("img").mouseenter(function(){$(this).parents(".project").siblings(".set-head").children(".placeholder").text($(this).data("title"))}).mouseleave(function(){$(".set-head .placeholder").text("")}),t.zoomToggle(i,i.find("figure").first(),!1)}})(),$(".info").hide(),$(".infoButton").click(function(){$(".info").toggle()})});