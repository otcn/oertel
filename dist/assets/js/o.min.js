function Mozoom(){this.setSizeClass="s",this.setContainer=$("#content"),$zoomedImgMargin=300,$unZoomedImgMargin=120,$faderMovement=0,$zoomMovement=200,$(".set").each(function(){$(this).find("img").each(function(){$(this).data({ogOuterHeight:$(this).outerHeight(!0)})})})}Mozoom.prototype.zoomIn=function(t,e){ogScrollTop=$(window).scrollTop(),t.children(".set-head").fadeOut($faderMovement),$("footer").hide(),ogOffset=t.offset(),ogWidth=t.width();$("#faderOverlay").fadeIn($faderMovement,function(){t.find("img").not($(e).children().first()).attr("src",""),zoomedSet=t.clone().appendTo(t.parent()).addClass("zoomedSet"),console.log(zoomedSet),zoomedSet.css({"z-index":20,left:ogOffset.left+"px",width:ogWidth,position:"absolute"}).queue("zoomIn",function(t){$(this).css({width:"100vw",left:0,top:0}),$(this).on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){console.log("done"),$(this).find("img").each(function(){})}),t()}).dequeue("zoomIn")}),this.setContainer.css("max-height",$(window).height())},Mozoom.prototype.zoomOut=function(t,e){t.stop("zoom",!0,!0),t.stop("headers",!0,!0),$("footer").show();var o=0;t.find("img").slice(0,t.find("img").index(e.children().first())).each(function(){$(this).hasClass("portrait")?factor=.25*$(window).height()+$unZoomedImgMargin:$(this).hasClass("landscape")&&(factor=.14*$(window).width()*$(this).data("ratio")+$unZoomedImgMargin),o+=factor}),t.queue("putSetBack",function(){$(this).animate({left:ogOffset.left,top:ogOffset.top,width:"25vw"},$zoomMovement).promise().done(function(){$(this).css({position:"relative",left:"0",top:"0"})}),$(this).children(".set-head").fadeIn($faderMovement),$("#faderOverlay").fadeOut($faderMovement,function(){t.css({"z-index":"0"})})}),t.queue("zoomOut",function(t){$(this).find(".project .project-head").animate({"margin-bottom":0},{duration:$zoomMovement}),t()}).queue("zoomOut",function(t){$(this).find(".landscape").animate({width:"14vw","margin-bottom":$unZoomedImgMargin},{duration:$zoomMovement}),t()}).queue("zoomOut",function(t){$(this).find(".portrait, .square").animate({height:"25vh","margin-bottom":$unZoomedImgMargin},{duration:$zoomMovement}),t()}).queue("zoomOut",function(){$("html, body").animate({scrollTop:o},{duration:$zoomMovement}),t.dequeue("putSetBack")}),t.find(".project-head").animate({opacity:0}).promise().done(function(){t.dequeue("zoomOut")}),this.setContainer.css("max-height","none"),t.removeClass("setZoomed")},Mozoom.prototype.zoomToggle=function(t,e){t.hasClass("setZoomed")?this.zoomOut(t,e):this.zoomIn(t,e)},$(document).ready(function(){$("#overlay").hide(),$(".caret-left").click(function(){$(this).closest(".set").removeClass("visibleSet"),$(this).closest(".set").prev().addClass("visibleSet"),$(this).closest(".set").is(":first-child")&&$(".set").last().addClass("visibleSet")}),$(".caret-right").click(function(){$(this).closest(".set").removeClass("visibleSet"),$(this).closest(".set").next().addClass("visibleSet"),$(this).closest(".set").is(":last-child")&&$(".set").first().addClass("visibleSet")});var i,n,s,a,o=new Mozoom,t=$(".set figure");(i=function(){$("#mobile-page-header").is(":visible")?(t.unbind("click"),$("img").unbind("mouseenter")):(t.click(function(t){var e="#"+$(this).data("set");o.zoomToggle($(e),$(this))}),$("img").mouseenter(function(){$(this).parents(".project").siblings(".set-head").children(".placeholder").text($(this).data("title"))}).mouseleave(function(){$(".set-head .placeholder").text("")}))},function(){var t=this,e=arguments,o=s&&!a;clearTimeout(a),a=setTimeout(function(){a=null,s||i.apply(t,e)},n),o&&i.apply(t,e)})(),$(".info").hide(),$(".infoButton").click(function(){$(".info").toggle()})});