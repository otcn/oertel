function Mozoom(){this.setSizeClass="s",this.setContainer=$("#content"),this.animationSpeed=200,$zoomedImgWidth=.35,$zoomedSetPadding=.3,$(".project-head").hide()}function defineZoomedSize(e){var o=$(window).width();e.css({height:o*$zoomedImgWidth*e.data("ratio")})}Mozoom.prototype.zoomIn=function(e,o){zoomedSet=e.clone(),zoomedSet.children(".set-head").remove(),zoomedSet.addClass("zoomedSet"),$("body").css("overflow","hidden"),zoomedSet.css({position:"absolute",left:0,top:$(window).scrollTop(),width:"100vw",height:"100vh",overflow:"scroll","z-index":20,opacity:0}).appendTo("body").find("img").each(function(){defineZoomedSize($(this))}),zoomedSet.find(".project-head").first().css({"padding-bottom":$(window).height()*$zoomedSetPadding,"margin-bottom":0}),zoomedSet.find("figure").last().css("padding-bottom",$(window).height()*$zoomedSetPadding),zoomedSet.find(".project-head").show(),zoomedTargetImage=zoomedSet.find("figure[data-slug="+o.data("slug")+"]"),pos=zoomedTargetImage.position().top-($(window).height()-zoomedTargetImage.find("img").outerHeight(!1))/2,zoomedSet.scrollTop(pos),zoomedSet.animate({opacity:1},this.animationSpeed)},Mozoom.prototype.zoomOut=function(e){e.fadeOut(this.animationSpeed,function(){$(this).remove(),$("body").css("overflow","auto")})},Mozoom.prototype.rebuildZoomedImages=function(){zoomedSet.length&&zoomedSet.find("img").each(function(){defineZoomedSize($(this))})},Mozoom.prototype.zoomToggle=function(e,o){$(".zoomedSet").length?this.zoomOut($(".zoomedSet")):this.zoomIn(e,o)},$(document).ready(function(){$(".caret-left").click(function(){$(this).closest(".set").removeClass("visibleSet"),$(this).closest(".set").prev().addClass("visibleSet"),$(this).closest(".set").is(":first-child")&&$(".set").last().addClass("visibleSet")}),$(".caret-right").click(function(){$(this).closest(".set").removeClass("visibleSet"),$(this).closest(".set").next().addClass("visibleSet"),$(this).closest(".set").is(":last-child")&&$(".set").first().addClass("visibleSet")});var t=new Mozoom,o=$(".set figure");function i(i,s,n){var d;return function(){var e=this,o=arguments,t=n&&!d;clearTimeout(d),d=setTimeout(function(){d=null,n||i.apply(e,o)},s),t&&i.apply(e,o)}}i(function(){if($("#mobile-page-header").is(":visible"))o.unbind("click"),$("img").unbind("mouseenter");else{o.click(function(e){e.stopPropagation();var o="#"+$(this).data("set");t.zoomToggle($(o),$(this))}),$(window).click(function(){t.zoomToggle()});var e=i(function(){t.rebuildZoomedImages()},250);$(window).resize(e),$("img").mouseenter(function(){$(this).parents(".project").siblings(".set-head").children(".placeholder").text($(this).data("title"))}).mouseleave(function(){$(".set-head .placeholder").text("")})}})(),$(".info").hide(),$(".infoButton").click(function(){$(".info").toggle()})});