function Mozoom(){this.setSizeClass="s",this.setContainer=$("#content"),$zoomedImgMargin=300,$unZoomedImgMargin=120,$faderMovement=400,$zoomMovement=80,$(".set").each(function(){$(this).find("img").each(function(){$(this).data({ogOuterHeight:$(this).outerHeight(!0)})})})}Mozoom.prototype.zoomIn=function(e,o){ogScrollTop=$(window).scrollTop(),e.css({"z-index":"20"}),e.children(".set-head").fadeOut($faderMovement),ogOffset=e.offset();var t=0,i=0;e.find("img").slice(0,e.find("img").index(o.children().first())).each(function(){$(this).hasClass("portrait")?i=.9*$(window).height()+$zoomedImgMargin:$(this).hasClass("landscape")&&(i=.5*$(window).width()*$(this).data("ratio")+$zoomedImgMargin),t+=i}),t+=(o.parent().prevAll(".project").length+1)*$zoomedImgMargin,o.children().hasClass("portrait")?targetImageHeight=.9*$(window).height():targetImageHeight=.5*$(window).width()*o.children().data("ratio"),t+=.5*targetImageHeight,t-=.5*$(window).height(),$("#faderOverlay").fadeIn($faderMovement,function(){e.queue("showHeaders",function(){e.find(".project-head").delay($faderMovement).animate({opacity:1})}),e.queue("zoomIn",function(o){$(this).css({left:ogOffset.left+"px",top:ogOffset.top+140+"px",position:"absolute"}),o()}).queue("zoomIn",function(o){$(this).animate({left:"0",top:"0",width:"100vw"},{duration:$zoomMovement}),o()}).queue("zoomIn",function(o){$(this).find(".landscape").animate({width:"50vw","margin-bottom":$zoomedImgMargin},{duration:$zoomMovement}),o()}).queue("zoomIn",function(o){$(this).find(".portrait").animate({height:"90vh","margin-bottom":$zoomedImgMargin},{duration:$zoomMovement}),o()}).queue("zoomIn",function(o){$(this).find(".project .project-head").animate({"margin-bottom":"300px"},{duration:$zoomMovement}),o()}).queue("zoomIn",function(o){$("html, body").animate({scrollTop:t},{duration:$zoomMovement}),e.dequeue("showHeaders")}).dequeue("zoomIn")}),this.setContainer.css("max-height",$(window).height()),e.addClass("setZoomed")},Mozoom.prototype.zoomOut=function(o,e){o.stop("zoom",!0,!0),o.stop("headers",!0,!0);var t=0;o.find("img").slice(0,o.find("img").index(e.children().first())).each(function(){$(this).hasClass("portrait")?factor=.25*$(window).height()+$unZoomedImgMargin:$(this).hasClass("landscape")&&(factor=.14*$(window).width()*$(this).data("ratio")+$unZoomedImgMargin),t+=factor}),o.queue("putSetBack",function(){$(this).animate({left:ogOffset.left+"px",top:ogOffset.top+140+"px",width:"25vw"},$zoomMovement).promise().done(function(){$(this).css({position:"relative",left:"0",top:"0"})}),$(this).children(".set-head").fadeIn($faderMovement),$("#faderOverlay").fadeOut($faderMovement,function(){o.css({"z-index":"0"})})}),o.queue("zoomOut",function(o){$(this).find(".project .project-head").animate({"margin-bottom":0},{duration:$zoomMovement}),o()}).queue("zoomOut",function(o){$(this).find(".landscape").animate({width:"14vw","margin-bottom":$unZoomedImgMargin},{duration:$zoomMovement}),o()}).queue("zoomOut",function(o){$(this).find(".portrait").animate({height:"25vh","margin-bottom":$unZoomedImgMargin},{duration:$zoomMovement}),o()}).queue("zoomOut",function(){$("html, body").animate({scrollTop:t},{duration:$zoomMovement}),console.log("last step of zoomOut"),o.dequeue("putSetBack")}),o.find(".project-head").animate({opacity:0}).promise().done(function(){o.dequeue("zoomOut")}),this.setContainer.css("max-height","none"),o.removeClass("setZoomed")},Mozoom.prototype.zoomToggle=function(o,e){o.hasClass("setZoomed")?this.zoomOut(o,e):this.zoomIn(o,e)},$(document).ready(function(){$("#overlay").hide(),$(".set-head i").hide();var t=new Mozoom,o=$(".set figure");var i,n,a,s,e=(i=function(){$("#mobile-page-header").is(":visible")?(console.log("mobile header is visible"),$(".set-head i").show(),$(".fa-caret-left").click(function(){}),$(".fa-caret-right").click(function(){})):$(".set-head i").hide()},n=250,function(){var o=this,e=arguments,t=a&&!s;clearTimeout(s),s=setTimeout(function(){s=null,a||i.apply(o,e)},n),t&&i.apply(o,e)});e(),$(window).resize(function(){e()}),o.click(function(o){var e="#"+$(this).data("set");t.zoomToggle($(e),$(this))}),$("img").mouseenter(function(){$(this).parents(".project").siblings(".set-head").children("p").text($(this).data("title"))}).mouseleave(function(){$(".set-head p").text("")}),$(".info").hide(),$(".fa-info-circle").click(function(){$(".info").toggle()})});