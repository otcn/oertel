$(document).ready(function(){var f=function(){var n=300,s=1,i=0,d=0,r=-1,m=-1,l=-1,y="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style;function a(t,e){var o=u();if(t.width=t.width||1,t.height=t.height||1,t.x-=(window.innerWidth-t.width*e)/2,t.y-=(window.innerHeight-t.height*e)/2,y)if(1===e)document.body.style.transform="",document.body.style.OTransform="",document.body.style.msTransform="",document.body.style.MozTransform="",document.body.style.WebkitTransform="";else{var n=o.x+"px "+o.y+"px",i="translate("+-t.x+"px,"+-t.y+"px) scale("+e+")";document.body.style.transformOrigin=n,document.body.style.OTransformOrigin=n,document.body.style.msTransformOrigin=n,document.body.style.MozTransformOrigin=n,document.body.style.WebkitTransformOrigin=n,document.body.style.transform=i,document.body.style.OTransform=i,document.body.style.msTransform=i,document.body.style.MozTransform=i,document.body.style.WebkitTransform=i}else 1===e?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height="",document.body.style.zoom=""):(document.body.style.position="relative",document.body.style.left=-(o.x+t.x)/e+"px",document.body.style.top=-(o.y+t.y)/e+"px",document.body.style.width=100*e+"%",document.body.style.height=100*e+"%",document.body.style.zoom=e);s=e}function c(){var t=.12*window.innerWidth,e=.12*window.innerHeight,o=u();d<e?window.scroll(o.x,o.y-14/s*(1-d/e)):d>window.innerHeight-e&&window.scroll(o.x,o.y+(1-(window.innerHeight-d)/e)*(14/s)),i<t?window.scroll(o.x-14/s*(1-i/t),o.y):i>window.innerWidth-t&&window.scroll(o.x+(1-(window.innerWidth-i)/t)*(14/s),o.y)}function u(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}return y&&(document.body.style.transition="transform 300ms ease 1s",document.body.style.OTransition="-o-transform 300ms ease1s",document.body.style.msTransition="-ms-transform 300ms ease1s",document.body.style.MozTransition="-moz-transform 300ms ease1s",document.body.style.WebkitTransition="-webkit-transform 300ms ease1s"),document.addEventListener("keyup",function(t){1!==s&&27===t.keyCode&&f.out()}),document.addEventListener("mousemove",function(t){1!==s&&(i=t.clientX,d=t.clientY)}),{to:function(t){if(1!==s)f.out();else{if(t.x=t.x||0,t.y=t.y||0,t.element){var e="number"==typeof t.padding?t.padding:20,o=t.element.getBoundingClientRect();t.x=o.left-e,t.y=o.top-e,t.width=o.width+2*e,t.height=o.height+2*e}void 0!==t.width&&void 0!==t.height&&(t.scale=Math.max(Math.min(window.innerWidth/t.width,window.innerHeight/t.height),1)),1<t.scale&&(t.x*=t.scale,t.y*=t.scale,t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),a(t,t.scale),!1!==t.pan&&(r=setTimeout(function(){m=setInterval(c,1e3/60)},n)),"function"==typeof t.callback&&(l=setTimeout(t.callback,n)))}},out:function(t){clearTimeout(r),clearInterval(m),clearTimeout(l),a({x:0,y:0},1),t&&"function"==typeof t.callback&&setTimeout(t.callback,n),s=1},magnify:function(t){this.to(t)},reset:function(){this.out()},zoomLevel:function(){return s}}}(),e=$(".project");$("img").click(function(t){e.not($(this).parents(".project")).fadeToggle("slow"),$(".page-header, .set-head").toggleClass("inactive"),console.log(t.target),f.to({element:t.target,pan:!1})}),$("img").mouseenter(function(){$(this).parents(".project").siblings(".set-head").children("p").text($(this).data("title"))}).mouseleave(function(){$(".set-head p").text("")})});