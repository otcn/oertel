function Mozoom(){this.setSizeClass="s",this.setContainer=$("#content"),this.animationSpeed=1200,$portraitImgWidth=.35,$landscapeImgWidth=.55,$zoomedSetPadding=.3,$(".project-head").hide()}function defineZoomedSize(o){var e=$(window).width(),t=$portraitImgWidth;o.hasClass("landscape")&&(t=$landscapeImgWidth),o.css({height:e*t*o.data("ratio")})}Mozoom.prototype.zoomIn=function(o,e,t){zoomedSet=o.clone(),zoomedSet.children(".set-head").remove(),zoomedSet.addClass("zoomedSet"),$("body").css("overflow","hidden"),zoomedSet.css({position:"absolute",left:0,top:$(window).scrollTop(),width:"100vw",height:"100vh",overflow:"scroll","z-index":20,opacity:0}).appendTo("body").find("img").each(function(){defineZoomedSize($(this))}),zoomedSet.find(".project-head").first().css({"padding-bottom":$(window).height()*$zoomedSetPadding,"margin-bottom":0}),zoomedSet.find("figure").last().css("padding-bottom",$(window).height()*$zoomedSetPadding),zoomedSet.find(".project-head").show(),zoomedTargetImage=zoomedSet.find("figure[data-slug="+e.data("slug")+"]"),pos=zoomedTargetImage.position().top-($(window).height()-zoomedTargetImage.find("img").outerHeight(!1))/2,zoomedSet.scrollTop(pos),t?(clonedImage=e.clone().css({"z-index":15,position:"absolute",left:e.offset().left,top:e.offset().top,width:e.width(),height:"auto"}).attr("id","zoomedImage").appendTo("body"),$("#faderOverlay").fadeIn(.5*this.animationSpeed,function(){zoomedSet.animate({opacity:1},this.animationSpeed)})):($("#faderOverlay").show(),zoomedSet.find(".project-head").css("opacity",0),zoomedSet.css("opacity",1),zoomedSet.scroll(function(){zoomedSet.find(".project-head").animate({opacity:1},this.animationSpeed)}))},Mozoom.prototype.zoomOut=function(o){console.log("zoomin out"),$("#faderOverlay").hide(),o.fadeOut(.5*this.animationSpeed,function(){$(this).remove(),$("#zoomedImage").remove(),$("body").css("overflow","auto")})},Mozoom.prototype.rebuildZoomedImages=function(){zoomedSet.length&&zoomedSet.find("img").each(function(){defineZoomedSize($(this))})},Mozoom.prototype.zoomToggle=function(o,e,t){!$(".zoomedSet").length&&o&&e?this.zoomIn(o,e,t):this.zoomOut($(".zoomedSet"))},$(document).ready(function(){var t=new Mozoom,e=$(".set figure"),i=$("#featured");function d(i,d,n){var a;return function(){var o=this,e=arguments,t=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||i.apply(o,e)},d),t&&i.apply(o,e)}}d(function(){if($("#mobile-page-header").is(":visible"))$(".set").first().show(),$(".project-head").show(),$(".caret").click(function(){var o=$(".set:visible");$(this).hasClass("caret-right")?$(".set:visible").is(":last-child")?(o.fadeOut(),$(".set:first-child").show()):o.hide().next().show():o.is(":first-child")?($(".set:visible").hide(),$(".set:last-child").hide()):o.prev().show()});else{e.click(function(o){if(o.stopPropagation(),$(this).is("figure")){var e="#"+$(this).data("set");t.zoomToggle($(e),$(this),!0)}}),$(window).click(function(){t.zoomToggle()});var o=d(function(){t.rebuildZoomedImages()},250);$(window).resize(o),$("img").mouseenter(function(){$(this).parents(".project").siblings(".set-head").children(".placeholder").text($(this).data("title"))}).mouseleave(function(){$(".set-head .placeholder").text("")}),t.zoomToggle(i,i.find("figure").first(),!1)}})(),$(".info").hide(),$(".infoButton").click(function(){$(".info").toggle()})});